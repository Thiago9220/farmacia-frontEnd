!function(){"use strict";angular.module("farmacia",[])}(),function(){"use strict";function controlador($scope,$http){var vm=this;vm.HOST_HTTP="http://localhost:3334/";var atualizar=document.querySelector("#atualizar"),enviar=document.querySelector("#enviar");vm.funcionario={},vm.funcionarios=[],vm.produto={},vm.produtos=[],vm.cliente={},vm.clientes=[],vm.clear=function(){vm.funcionario={},vm.produto={},vm.cliente={}},vm.init=function(){vm.lista_funcionarios(),vm.lista_produtos(),vm.lista_clientes()},vm.lista_funcionarios=function(){$http.get(vm.HOST_HTTP+"funcionario/").then(function(res){vm.funcionarios=res.data}).catch(function(err){console.log(err)})},vm.cadastrar_funcionario=function(){$http.post(vm.HOST_HTTP+"funcionario/",vm.funcionario).then(function(res){vm.funcionarios.push(angular.copy(vm.funcionario)),vm.clear()}).catch(function(err){console.log(err),vm.clear()})},vm.atualizar_funcionario=function(indice,funcionario){funcionario=vm.funcionarios[indice]._id,$http.put(vm.HOST_HTTP+"funcionario/"+funcionario,vm.funcionario).then(function(res){atualizar.classList.toggle("hidden"),enviar.classList.toggle("hidden"),vm.clear(),vm.lista_funcionarios()},function(err){console.log(err)})},vm.deletar_funcionario=function(indice,funcionario){funcionario=vm.funcionarios[indice]._id,$http.delete(vm.HOST_HTTP+"funcionario/"+funcionario,vm.funcionario).then(function(res){vm.clear(),vm.lista_funcionarios()},function(err){console.log(err)})},vm.lista_produtos=function(){$http.get(vm.HOST_HTTP+"produto/").then(function(res){vm.produtos=res.data}).catch(function(err){console.log(err)})},vm.cadastrar_produto=function(){$http.post(vm.HOST_HTTP+"produto/",vm.produto).then(function(res){vm.produtos.push(angular.copy(vm.produto)),vm.clear()}).catch(function(err){console.log(err),vm.clear()})},vm.deletar_produto=function(indice,produto){produto=vm.produtos[indice]._id,$http.delete(vm.HOST_HTTP+"produto/"+produto,vm.produto).then(function(res){vm.clear(),vm.lista_produtos()},function(err){console.log(err)})},vm.lista_clientes=function(){$http.get(vm.HOST_HTTP+"cliente/").then(function(res){vm.clientes=res.data}).catch(function(err){console.log(err)})},vm.cadastrar_cliente=function(){$http.post(vm.HOST_HTTP+"cliente/",vm.cliente).then(function(res){vm.clientes.push(angular.copy(vm.cliente)),vm.clear()}).catch(function(err){console.log(err),vm.clear()})},vm.atualizar_cliente=function(indice,cliente){cliente=vm.clientes[indice]._id,$http.put(vm.HOST_HTTP+"cliente/"+cliente,JSON.stringify(vm.cliente)).then(function(res){atualizar.classList.toggle("hidden"),enviar.classList.toggle("hidden"),vm.clear(),vm.lista_clientes()},function(err){console.log(err)})},vm.deletar_cliente=function(indice,cliente){cliente=vm.clientes[indice]._id,$http.delete(vm.HOST_HTTP+"cliente/"+cliente,vm.cliente).then(function(res){vm.clear(),vm.lista_clientes()},function(err){console.log(err)})}}angular.module("farmacia").controller("controlador",controlador),controlador.$inject=["$scope","$http"]}();